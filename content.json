[{"title":"Hello World","date":"2020-04-28T11:17:10.561Z","path":"2020/04/28/HelloWord2 - å‰¯æœ¬ (3)/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[{"name":"spring","slug":"spring","permalink":"http://yoursite.com/tags/spring/"}]},{"title":"Hello World","date":"2020-04-28T11:17:07.553Z","path":"2020/04/28/HelloWord2 - å‰¯æœ¬ (2)/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"tags","slug":"tags","permalink":"http://yoursite.com/tags/tags/"}]},{"title":"JAVA 8","date":"2020-04-28T11:17:03.682Z","path":"2020/04/28/java8/","text":"JAVA8(1)æ¦‚è¿°ï¼š â€‹ æ˜¯ä»€ä¹ˆè®©æˆ‘é€‰æ‹©äº†java8ï¼Œæ˜¯å‘½è¿å—ï¼Ÿæ˜¯çˆ±å—ï¼ŸğŸ¤®ï¼Œå¥½å§æˆ‘è‡ªå·±ä¹Ÿç¼–ä¸ä¸‹å»äº†ï¼Œå…¶å®æœ€å…ˆå…³æ³¨java8æ˜¯å› ä¸ºLambdaå’Œstream APIï¼Œç„¶åæ‰äº†è§£åˆ°äº†ä»–çš„ä¸€ç³»åˆ—çš„æ•°æ®ç»“æ„å’Œåº•å±‚çš„ä¼˜åŒ–ï¼Œè€Œä¸”è¿˜æ˜¯é•¿æœŸæ”¯æŒçš„ç‰ˆæœ¬,soä½ æ‡‚çš„ï¼ æ›´å¿«çš„é€Ÿåº¦ï¼š â€‹ æ•ˆç‡å’Œé€Ÿåº¦è¿™æ˜¯ä¸€ä¸ªæ°¸è¿œæ— æ³•é¿å…çš„é—®é¢˜ï¼Œä»¥å‰çš„åº•å±‚ç»“æ„zä¸­æ–¹æ³•åŒºï¼ˆå †ä¸­æ°¸ä¹…åŒºçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜æ”¾æ ¸å¿ƒç±»åº“çš„ä¿¡æ¯ï¼Œå‡ ä¹ä¸ä¼šè¢«GCå›æ”¶ï¼‰æ€»æ˜¯è¢«å•ç‹¬æ‹å‡ºæ¥ï¼Œå› ä¸ºä¸€äº›å‚å•†åƒsunå…¬å¸çš„Hostpotä»–çš„JVMå­˜åœ¨æ°¸ä¹…åŒºè€Œå¦å¤–åƒIBMç­‰ä¸€äº›å…¬å¸å·²ç»ç§»é™¤äº†è¿™ä¸€åŒºåŸŸï¼Œåœ¨java8ä¹‹åä»–ç»Ÿä¸€å–æ¶ˆäº†è¿™ä¸€åŒºåŸŸï¼Œå‡ºç°äº†ä¸€Metaspace(å…ƒç©ºé—´)ï¼Œä»–å’Œæ–¹æ³•åŒºçš„ä¸åŒæ˜¯ä»–ç›´æ¥ç”¨çš„æ˜¯ç‰©ç†å†…å­˜å‘ç”Ÿå†…å­˜æº¢å‡º(out of memory error OOM)çš„å¼‚å¸¸å‘ç”Ÿçš„æœºç‡é™ä½ï¼ŒåŒæ—¶æ°¸ä¹…åŒºçš„æ”¹å˜ä½¿å¾—JVMè°ƒä¼˜ä¸­çš„PremGenSize ã€MaxPremGenSize æ— æ•ˆ ,å–è€Œä»£ä¹‹çš„æ˜¯MetaspaceSizeå’ŒMaxMetaspaceSizeï¼› æ•°æ®ç»“æ„çš„æ”¹å˜ â€‹ å¯èƒ½å¯¹äºä½ æ¥è¯´è¿™äº›ä¸è¶³ä»¥æ‰“åŠ¨ä½ ä½†æ˜¯ï¼ŒåŒæ—¶java8ä¹Ÿå¯¹ä¸€äº›æ•°æ®ç»“æ„è¿›è¡Œäº†æ”¹ç¼–ï¼Œå—¯åƒHashMap,å“ˆå¸Œç®—æ³•å› ä¸ºç¢°æ’ä¼šå¯¼è‡´æ•ˆç‡å˜ä½ï¼Œåœ¨java8ä¸­ä»–åœ¨åŸæœ‰çš„æ•°ç»„+é“¾è¡¨çš„ç»“æ„ä¸Šå¼•å…¥äº†çº¢é»‘æ ‘ï¼Œè¿™æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘( symmetric binary B-trees )ï¼Œé™¤äº†æ·»åŠ éƒ½éå¸¸å¿«ã€‚ â€‹ Java7çš„ConcurrentHashMapä¸­é€šè¿‡Segmentå¼•å…¥äº†åˆ†æ®µåŠ é”æœºåˆ¶ç”¨æ¥è§£å†³å¹¶å‘æ¡ä»¶ä¸‹HashMapå¯èƒ½å¯¼è‡´çš„æ­»å¾ªç¯é—®é¢˜ã€‚è€ŒJava8åˆå¯¹ConcurrentHashMapè¿›è¡Œäº†æ”¹åŠ¨ï¼Œé™¤äº†å¼•å…¥çº¢é»‘æ ‘å¤–ï¼Œè¿˜å»é™¤äº†Segmentï¼Œé‚£ä¹ˆåœ¨ava8æ˜¯å¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨çš„å‘¢ï¼Ÿ â€‹ å…¶å®ä»–å†…éƒ¨é‡‡ç”¨äº†CAS( compare and swap )+ Synchronized ï¼Œé”çš„ç²’åº¦ï¼š åŸæ¥æ˜¯å¯¹éœ€è¦è¿›è¡Œæ•°æ®æ“ä½œçš„SegmentåŠ é”ï¼Œç°è°ƒæ•´ä¸ºå¯¹æ¯ä¸ªæ•°ç»„å…ƒç´ åŠ é”ï¼ˆNodeï¼‰ â€‹ CASè¿™æ˜¯ä¸€ç§åŸºäºé”çš„æ“ä½œï¼Œè€Œä¸”æ˜¯ä¹è§‚é”ï¼Œåœ¨javaä¸­é”åˆ†ä¸ºä¹è§‚é”å’Œæ‚²è§‚é”ã€‚æ‚²è§‚é”æ˜¯å°†èµ„æºé”ä½ï¼Œç­‰ä¸€ä¸ªä¹‹å‰è·å¾—é”çš„çº¿ç¨‹é‡Šæ”¾é”ä¹‹åï¼Œä¸‹ä¸€ä¸ªçº¿ç¨‹æ‰å¯ä»¥è®¿é—®ã€‚è€Œä¹è§‚é”é‡‡å–äº†ä¸€ç§å®½æ³›çš„æ€åº¦ï¼Œé€šè¿‡æŸç§æ–¹å¼ä¸åŠ é”æ¥å¤„ç†èµ„æºï¼Œæ¯”å¦‚é€šè¿‡ç»™è®°å½•åŠ versionæ¥è·å–æ•°æ®ï¼Œæ€§èƒ½è¾ƒæ‚²è§‚é”æœ‰å¾ˆå¤§çš„æé«˜ã€‚æ“ä½œåŒ…å«ä¸‰ä¸ªæ“ä½œæ•° å†…å­˜ä½ç½®ï¼ˆVï¼‰ã€é¢„æœŸåŸå€¼ï¼ˆAï¼‰å’Œæ–°å€¼(B)ã€‚å¦‚æœå†…å­˜åœ°å€é‡Œé¢çš„å€¼å’ŒAçš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±å°†å†…å­˜é‡Œé¢çš„å€¼æ›´æ–°æˆBã€‚CASæ˜¯é€šè¿‡æ— é™å¾ªç¯æ¥è·å–æ•°æ®çš„ï¼Œè‹¥æœåœ¨ç¬¬ä¸€è½®å¾ªç¯ä¸­ï¼Œaçº¿ç¨‹è·å–åœ°å€é‡Œé¢çš„å€¼è¢«bçº¿ç¨‹ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆaçº¿ç¨‹éœ€è¦è‡ªæ—‹ï¼Œåˆ°ä¸‹æ¬¡å¾ªç¯æ‰æœ‰å¯èƒ½æœºä¼šæ‰§è¡Œ lambdaè¡¨è¾¾å¼ â€‹ ä»–æ˜¯ä¸€ä¸ªåŒ¿åçš„å‡½æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç ï¼ˆå°†ä»£ç åƒæ•°æ®ä¸€æ ·è¿›è¡Œä¼ é€’ï¼‰ã€‚å¯ä»¥å†™å‡ºè·Ÿç®€æ´ã€çµæ´»çš„ä»£ç ã€‚ä½œä¸ºä¸€ç§æ›´ç´§å‡‘çš„ä»£ç é£æ ¼ï¼Œä½¿javaçš„è¯­è¨€è¡¨è¾¾èƒ½åŠ›å¾—åˆ°äº†æå‡ã€‚ 12345678List&lt;User&gt; list=Arrays.asList(new User(1L,\"zs\",\"male\"), new User(2L,\"ls\",\"male\"), new User(2L,\"ls\",\"female\") ); for (Object obj:list)&#123; System.out.println(obj.toString()); &#125; list.parallelStream().forEach(ls-&gt; System.out.println(ls)); stream API â€‹ ä¸Šé¢åŒæ—¶å±•ç°äº†ä¸€ä¸ªstreamï¼Œä»€ä¹ˆæ˜¯streamï¼ˆæµï¼‰?ä»–å…¶å®æ˜¯å¯¹äºé›†åˆçš„è®¡ç®—ï¼Œstreamæœ¬èº«ä¸ä¼šå­˜å‚¨æ•°æ®ï¼Œæ”¹å˜æºæ•°æ®,ä»–çš„æ“ä½œæ˜¯å»¶è¿Ÿçš„ï¼Œä¹Ÿå°±æ˜¯éœ€è¦çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚ â€‹ ä»–å…¶å®æ˜¯java7çš„Fork/Joinï¼Œæ˜¯ä¸€ä¸ªå¹¶è¡Œæ‰§è¡Œä»»åŠ¡æ¡†æ¶ ï¼Œè¿™ä¸€ä¸ªæ¡†æ¶ä¼šå°†ä»»åŠ¡æ‹†åˆ†æˆè‹¥å¹²å°ä»»åŠ¡ï¼Œç„¶åè¿æ¥ç»“åˆï¼Œè¿›è¡Œç»“æœæ±‡æ€»ã€‚ ForkJoiné‡‡ç”¨äº†å·¥ä½œçªƒå–ï¼ˆwork-stealingï¼‰ç®—æ³•ï¼Œè‹¥ä¸€ä¸ªå·¥ä½œçº¿ç¨‹çš„ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºæ²¡æœ‰ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œä¾¿ä»å…¶ä»–å·¥ä½œçº¿ç¨‹ä¸­è·å–ä»»åŠ¡ä¸»åŠ¨æ‰§è¡Œã€‚ä¸ºäº†å®ç°å·¥ä½œçªƒå–ï¼Œåœ¨å·¥ä½œçº¿ç¨‹ä¸­ç»´æŠ¤äº†åŒç«¯é˜Ÿåˆ—ï¼Œçªƒå–ä»»åŠ¡çº¿ç¨‹ä»é˜Ÿå°¾è·å–ä»»åŠ¡ï¼Œè¢«çªƒå–ä»»åŠ¡çº¿ç¨‹ä»é˜Ÿå¤´è·å–ä»»åŠ¡ã€‚è¿™ç§æœºåˆ¶å……åˆ†åˆ©ç”¨çº¿ç¨‹è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œå‡å°‘äº†çº¿ç¨‹ç«äº‰ã€‚ä½†æ˜¯å½“é˜Ÿåˆ—ä¸­åªå­˜åœ¨ä¸€ä¸ªä»»åŠ¡äº†æ—¶ï¼Œä¸¤ä¸ªçº¿ç¨‹å»å–åè€Œä¼šé€ æˆèµ„æºæµªè´¹ã€‚ å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•ï¼š æ–¹æ³• è¯´æ˜ parallelStream() å¹¶è¡Œæµ stream() ä¸²è¡Œæµ ä¸­é—´æ“ä½œ æ–¹æ³• è¯´æ˜ fileter (Predicate p) è¿‡æ»¤ distinctï¼ˆï¼‰ é€šè¿‡æµå…ƒç´ äº§ç”Ÿçš„hashcodeå’Œequalså»é™¤é‡å¤å…ƒç´  limitï¼ˆlong maxSizeï¼‰ æˆªæ–­ï¼Œä½¿å…¶ä¸è¶…è¿‡æœ€å¤§å€¼ skipï¼ˆlong nï¼‰ è·³è¿‡å…ƒç´  mapï¼ˆFunction fï¼‰ æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æ˜ å°„æˆæ–°çš„å…ƒç´  mapToDouble(ToDoubleFunction f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„DoubleStream sortï¼ˆï¼‰ æŒ‰è‡ªç„¶é¡ºåºæ’åºï¼ˆå­—å…¸é¡ºåºï¼‰ sortedï¼ˆComparator cï¼‰ æŒ‰ç…§æ¯”è¾ƒå™¨æ’åº ç»ˆæ­¢æ“ä½œ æ–¹æ³• è¯´æ˜ allMatchï¼ˆPredicate pï¼‰ æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´  anyMatchï¼ˆPredicate pï¼‰ æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´  noneMatchï¼ˆPredicate pï¼‰ æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…çš„å…ƒç´  findFirstï¼ˆï¼‰ è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  findAnyï¼ˆï¼‰ è¿”å›ä»»æ„å½“å‰æµä¸­çš„å…ƒç´  countï¼ˆï¼‰ è¿”å›æµä¸­æ•°æ®çš„å…ƒç´ ä¸ªæ•° maxï¼ˆComparator cï¼‰ è¿”å›æµä¸­æœ€å¤§çš„å€¼ minï¼ˆComparator cï¼‰ è¿”å›æµä¸­æœ€å°çš„å€¼ forEachï¼ˆConsumer cï¼‰ å†…éƒ¨è¿­ä»£ reduceï¼ˆT iden , BinaryOperator bï¼‰ å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ï¼Œè¿”å›T reduceï¼ˆBianaryOperator bï¼‰ å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿”å› collect(Collector c) ç»“æœè½¬æ¢ Optional ç±»å‹ â€‹ è¿™æ˜¯ä¸€ä¸ªå…è®¸ç»“æœä¸ºç©ºå€¼çš„å¯¹è±¡ï¼Œä»è€Œå‡å°‘äº†ç©ºæŒ‡é’ˆçš„å‘ç”Ÿï¼Œä¾‹å¦‚å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤çš„æ—¶å€™å¸¸å¸¸æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„æ•°æ®è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨Optional","tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yoursite.com/tags/%E5%90%8E%E7%AB%AF/"}]},{"title":"Hello World","date":"2020-04-28T04:55:55.135Z","path":"2020/04/28/HelloWord2/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://yoursite.com/tags/jQuery/"},{"name":"è¡¨æ ¼","slug":"è¡¨æ ¼","permalink":"http://yoursite.com/tags/%E8%A1%A8%E6%A0%BC/"},{"name":"è¡¨å•éªŒè¯","slug":"è¡¨å•éªŒè¯","permalink":"http://yoursite.com/tags/%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81/"}]},{"title":"Hello World","date":"2020-04-28T01:28:25.769Z","path":"2020/04/28/HelloWord/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"tags","slug":"tags","permalink":"http://yoursite.com/tags/tags/"},{"name":"test","slug":"test","permalink":"http://yoursite.com/tags/test/"}]}]